(this.webpackJsonpunishop=this.webpackJsonpunishop||[]).push([[0],{15:function(e,n,r){e.exports=r.p+"static/media/logo.01c07428.svg"},42:function(e,n,r){e.exports=r(70)},70:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),o=(r(44),r(33)),i=r.n(o),u=r(34),c=r(12),l=r(9),s=r(6),m=r.n(s),p=r(11),d=r(15),h=r.n(d),g=r(17),f=r(22);function b(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var v=function(e,n){var r=Object(t.useState)(n),a=Object(f.a)(r,2),o=a[0],i=a[1],u=Object(t.useState)(""),c=Object(f.a)(u,2),l=c[0],s=c[1];return{errors:l,setErrors:s,handleSubmit:function(n){n&&n.preventDefault(),e(o)},handleInputChange:function(e){s(""),e.persist(),i((function(n){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(r,!0).forEach((function(n){Object(g.a)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({},n,Object(g.a)({},e.target.name,e.target.value))}))},inputs:o}},y=r(35),E=function(){return null!==localStorage.getItem("Unishop-Token")},x=function(e){return localStorage.setItem("currentUser",JSON.stringify(e))},k=r.n(y).a.create({baseURL:"http://localhost:5000"});k.interceptors.request.use(function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=localStorage.getItem("Unishop-Token"))&&(n.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());var w=k,O=r(3),j=r(1);function S(){var e=Object(O.a)(["\n    border: 2px solid ",";\n    padding: 2rem;\n    margin: 50px auto;\n    max-width: 600px;\n    border-radius: 10px;\n    background: #fff;\n    color: black;\n\n    @media (max-width: 765px) {\n        margin: 50px 10px;\n    }\n    img {\n        display: block;\n        width: 50%;\n        margin: 20px auto;\n    }\n\n    .logo {\n        height: 80px;\n        background: linear-gradient(\n            90deg,\n            rgb(160, 222, 219),\n            rgb(3, 165, 209)\n        );\n        -webkit-mask: url(",") no-repeat center;\n        mask: url(",") no-repeat center;\n    }\n\n    a,\n    a:visited,\n    a:hover,\n    a:active {\n        color: inherit;\n    }\n"]);return S=function(){return e},e}var _=j.d.div(S(),(function(e){return e.theme.gray700}),h.a,h.a);function C(){var e=Object(O.a)(["\n            background: ",";\n            color: white;\n        "]);return C=function(){return e},e}function I(){var e=Object(O.a)(["\n            background: ",";\n            /* background: linear-gradient(\n                    145deg,\n                    rgba(232, 87, 237, 0.15) 0%,\n                    rgba(109, 137, 69, 0.15) 100%\n                ),\n                linear-gradient(75deg, rgb(33, 138, 184), rgb(0, 241, 181));\n            color: white; */\n        "]);return I=function(){return e},e}function F(){var e=Object(O.a)(["\n    display: block;\n\n    padding: 1rem 0;\n    margin: 0.5rem 0;\n    width: 100%;\n    background: ",";\n    font-size: ",";\n    border-radius: ",";\n    text-align: center;\n    text-decoration: none;\n    color: white !important;\n    border: none;\n    cursor: pointer;\n\n    ","\n\n    ","\n"]);return F=function(){return e},e}var q=j.d.button(F(),(function(e){return e.theme.primary}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.borderRadius}),(function(e){return e.primary&&Object(j.c)(I(),(function(e){return e.theme.gray800}))}),(function(e){return e.secondary&&Object(j.c)(C(),(function(e){return e.theme.gray600}))}));function U(){var e=Object(O.a)(["\n    display: block;\n    width: 100%;\n    background: white;\n    color: black;\n    border: 2px solid black;\n    padding: 1em;\n    margin: 0.5em 0;\n    font-size: ",";\n    border-radius: ",";\n"]);return U=function(){return e},e}var A=j.d.input(U(),(function(e){return e.theme.fontSize}),(function(e){return e.theme.borderRadius}));function z(){var e=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    min-height: 50px;\n    color: hsl(0, 100%, 60%);\n    background: hsl(0, 100%, 85%);\n    border: 1px solid hsl(0, 100%, 60%);\n"]);return z=function(){return e},e}var D=j.d.div(z()),P=function(e){E()&&e.history.push("/");var n=v(function(){var n=Object(p.a)(m.a.mark((function n(r){var t,a,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(""),n.prev=1,t=r.username,a=r.password,n.next=5,w.post("/login",{username:t,password:a});case 5:o=n.sent,i=o.data,localStorage.setItem("Unishop-Token",i.access_token),x(i.user),e.history.push("/"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),n.t0.response?u(n.t0.response.data.msg):n.t0.request?u("Erro ao conectar o servidor"):u(n.t0);case 13:case"end":return n.stop()}var i}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}(),{username:"",password:""}),r=n.inputs,t=n.handleInputChange,o=n.handleSubmit,i=n.errors,u=n.setErrors;return a.a.createElement(_,null,a.a.createElement("img",{src:h.a,className:"App-logo",alt:"logo"}),a.a.createElement("form",{onSubmit:o},i&&a.a.createElement(D,null,i),a.a.createElement("div",null,a.a.createElement(A,{type:"email",name:"username",placeholder:"Email",onChange:t,value:r.username,required:!0})),a.a.createElement("div",null,a.a.createElement(A,{type:"password",name:"password",placeholder:"Senha",onChange:t,value:r.password,required:!0})),a.a.createElement(q,{type:"submit",primary:!0},"Entrar")),a.a.createElement(l.b,{to:"/recovery"},"Esqueci a senha"),a.a.createElement(q,{as:l.b,to:"register"},"Registre-se"))},R=function(e){return localStorage.removeItem("Unishop-Token"),localStorage.removeItem("currentUser"),e.history.push("/"),""};function B(){var e=Object(O.a)(["\n    border: 2px solid ",";\n    padding: 2rem;\n    margin: 50px auto;\n    max-width: 600px;\n    border-radius: 10px;\n    background: #fff;\n    color: black;\n\n    @media (max-width: 765px) {\n        margin: 50px 10px;\n    }\n\n    a,\n    a:visited,\n    a:hover,\n    a:active {\n        color: inherit;\n    }\n"]);return B=function(){return e},e}var J=j.d.div(B(),(function(e){return e.theme.gray700})),L=function(e){E()&&e.history.push("/");var n=v(function(){var n=Object(p.a)(m.a.mark((function n(r){var t;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=r.email,n.next=4,w.post("/recuperar",{email:t});case 4:e.history.push("/"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),{email:""}),r=n.inputs,t=n.handleInputChange,o=n.handleSubmit;return a.a.createElement(J,null,a.a.createElement("div",null,a.a.createElement(l.b,{to:"/login"},"Voltar")),a.a.createElement("form",{onSubmit:o},a.a.createElement("div",null,a.a.createElement(A,{type:"email",name:"username",placeholder:"Email",onChange:t,value:r.username,required:!0})),a.a.createElement(q,{type:"submit"},"Enviar")))};function N(){var e=Object(O.a)(["\n    border: 2px solid ",";\n    padding: 2rem;\n    margin: 50px auto;\n    max-width: 600px;\n    border-radius: 10px;\n    background: #fff;\n    color: black;\n\n    @media (max-width: 765px) {\n        margin: 50px 10px;\n    }\n\n    a,\n    a:visited,\n    a:hover,\n    a:active {\n        color: inherit;\n    }\n"]);return N=function(){return e},e}var T=j.d.div(N(),(function(e){return e.theme.gray700})),H=function(e){E()&&e.history.push("/");var n=function(){var n=Object(p.a)(m.a.mark((function n(t){var a,o,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a=t.usuario_nome,o=t.usuario_email,i=t.usuario_senha,!r()){n.next=8;break}return n.next=5,w.post("/usuarios",{usuario_nome:a,usuario_email:o,usuario_senha:i});case 5:e.history.push("/"),n.next=9;break;case 8:s("Senhas digitadas n\xe3o conferem!");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response?s(n.t0.response.data.msg):n.t0.request?s("Erro ao conectar o servidor"):s(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}(),r=function(){return o.usuario_senha===o.usuario_senha_confirmacao},t=v(n,{usuario_nome:"",usuario_email:"",usuario_senha:"",usuario_senha_confirmacao:""}),o=t.inputs,i=t.handleInputChange,u=t.handleSubmit,c=t.errors,s=t.setErrors;return a.a.createElement(T,null,a.a.createElement("div",null,a.a.createElement(l.b,{to:"/login"},"Voltar")),c&&a.a.createElement(D,null,c),a.a.createElement("form",{onSubmit:u},a.a.createElement("div",null,a.a.createElement(A,{type:"text",name:"usuario_nome",placeholder:"Nome Completo",onChange:i,value:o.usuario_nome,required:!0})),a.a.createElement("div",null,a.a.createElement(A,{type:"email",name:"usuario_email",placeholder:"Email",onChange:i,value:o.usuario_email,required:!0})),a.a.createElement("div",null,a.a.createElement(A,{type:"password",placeholder:"Senha",name:"usuario_senha",onChange:i,value:o.usuario_senha,required:!0})),a.a.createElement("div",null,a.a.createElement(A,{type:"password",placeholder:"Confirmar Senha",name:"usuario_senha_confirmacao",onChange:i,value:o.usuario_senha_confirmacao,required:!0})),a.a.createElement(q,{type:"submit"},"Cadastrar")))};function V(){var e=Object(O.a)(["\n    border: 2px solid ",";\n    padding: 2rem;\n    margin: 50px auto;\n    max-width: 600px;\n    border-radius: 10px;\n    background: #fff;\n    color: black;\n\n    @media (max-width: 765px) {\n        margin: 50px 10px;\n    }\n"]);return V=function(){return e},e}var W=j.d.div(V(),(function(e){return e.theme.gray700})),M=function(){var e=JSON.parse(localStorage.getItem("currentUser"));return a.a.createElement(W,null,a.a.createElement("h1",null,"Hello ",e.usuario_nome,"!"))},$=function(e){var n=e.component,r=Object(u.a)(e,["component"]);return a.a.createElement(c.b,Object.assign({},r,{render:function(e){return E()?a.a.createElement(n,e):a.a.createElement(c.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},G=function(){return a.a.createElement(l.a,{basename:"/unishop"},a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/login",exact:!0,component:P}),a.a.createElement(c.b,{path:"/logout",exact:!0,component:R}),a.a.createElement(c.b,{path:"/register/",component:H}),a.a.createElement(c.b,{path:"/recovery/",component:L}),a.a.createElement($,{path:"/",component:M}),a.a.createElement(c.b,{path:"*",component:function(){return a.a.createElement(c.a,{to:"/"})}})))};function K(){var e=Object(O.a)(["\nhtml, body {\n    margin: 0;\n    padding: 0;\n}\n\na {\n    text-decoration: none;\n}\n\n\n*, *::after, *::before {\n    box-sizing: border-box;\n}\n\nbody {\n    \n    background: ",";\n    color: ",';\n    \n    /* height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center; */\n    \n\n    /* background: linear-gradient(90deg, rgb(160, 222, 219),rgb(3, 165, 209)); */\n\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    text-rendering: optimizeLegibility;\n}']);return K=function(){return e},e}var Q=Object(j.b)(K(),(function(e){return e.theme.background}),(function(e){return e.theme.primaryLight})),X={background:"#ecf0f4",primary:"#5580aa",primaryLight:"#EFFFFA",primaryHover:"#343078",mobile:"576px",gray100:"#F7FAFC",gray200:"#EDF2F7",gray300:"#E2E8F0",gray400:"#CBD5E0",gray500:"#A0AEC0",gray600:"#718096",gray700:"#4A5568",gray800:"#2D3748",gray900:"#1A202C",fontSize:"1rem",borderRadius:"5px"},Y=function(){return a.a.createElement(j.a,{theme:X},a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,null),a.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ff0b7f18.chunk.js.map